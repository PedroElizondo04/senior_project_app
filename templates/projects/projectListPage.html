<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project List</title>
    {% load static %}
    <!-- Bulma CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>

<body>

    <!-- Fixed Header -->
    <header class="header">
        <span>John Doe, <span class="role">Student</span></span>
        <img src="{% static 'utrgv.svg' %}" alt="UTRGV Logo" class="logo">
    </header>

    <!-- Main Content -->
    <section class="section" style="padding-top: 120px;">
        <div class="container">

            <a href="{% url 'landing' 'student' %}" class="button is-light mb-5">
                ‚Üê Back to Landing Page
            </a>

            <div class="table-container">
                <table class="table is-striped is-hoverable is-fullwidth">
                    <thead>
                        <tr>
                            <th>Star</th>
                            <th>Author</th>
                            <th>Title</th>
                            <th>Skills</th>
                            <th>Project Status</th>
                            <th>Members</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Hardcoded Entries -->
                        <tr>
                            <td>
                                <label class="star-label">
                                    <input type="checkbox" class="star-checkbox" />
                                    <span class="star-icon">&#9733;</span>
                                </label>
                            </td>
                            <td>Me</td>
                            <td><a href="{% url 'projectViewPage' 1 %}">My Project</a></td>
                            <td>Python, Machine Learning, Database...</td>
                            <td>Joined</td>
                            <td>3/4</td>
                            <td>Edit</td>
                        </tr>

                        <tr>
                            <td>
                                <label class="star-label">
                                    <input type="checkbox" class="star-checkbox" />
                                    <span class="star-icon">&#9733;</span>
                                </label>
                            </td>
                            <td>Alex Pereira</td>
                            <td><a href="{% url 'projectViewPage' 1 %}">ByteSync - A Simple File Sy...</a></td>
                            <td>Rust, algorithms, Linux, CLI, Concurre...</td>
                            <td>Available</td>
                            <td>2/4</td>
                            <td>Join</td>
                        </tr>

                        <tr>
                            <td>
                                <label class="star-label">
                                    <input type="checkbox" class="star-checkbox" />
                                    <span class="star-icon">&#9733;</span>
                                </label>
                            </td>
                            <td>Pedro Elizondo</td>
                            <td><a href="{% url 'projectViewPage' 1 %}">AR Woodworking Visualizer</a></td>
                            <td>C++, Augmented Reality, Database, Web...</td>
                            <td>Available</td>
                            <td>3/4</td>
                            <td>Join</td>
                        </tr>

                        <!-- Dynamic Projects -->
                        {% for project in projects %}
                        {% cycle 'Angelo Brian' 'Justin Olvera' 'Kevin Ygbuhay' 'Alejandro Garcia' 'Joaquin Martinez' 'Dante Mortalla' as authors silent %}
                        <tr>
                            <td>
                                <label class="star-label">
                                    <input type="checkbox" class="star-checkbox" />
                                    <span class="star-icon">&#9733;</span>
                                </label>
                            </td>
                            <td>{{ authors }}</td>
                            <td>
                                <a href="{% url 'projectViewPage' project.id %}">
                                    {{ project.title }}
                                </a>
                            </td>
                            <td>
                                {% for skill in project.skills_required.all %}
                                    {{ skill.name }}{% if not forloop.last %}, {% endif %}
                                {% empty %}
                                    No skills
                                {% endfor %}
                            </td>
                            <td>{{ project.get_status_display }}</td>
                            <td>{{ project.students.count }}/{{ project.member_limit }}</td>
                            <td>
                                {% if project.status == "in_process" %}
                                    Join
                                {% elif project.status == "active" %}
                                    Active
                                {% else %}
                                    View
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

        </div>
    </section>

</body>

</html>
